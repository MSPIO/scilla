
contract Test
()

field gmap : Map Int256 Int256 = Emp Int256 Int256
field topkey : Int256 = Int256 0

transition addToMap()
  p <- gmap;
  tk <- topkey;

  gmap1 = builtin put p tk tk;
  one = Int256 1;
  tkinc = builtin add tk one;
  topkey := tkinc;
  gmap := gmap1
end
